(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{332:function(t,e,r){"use strict";r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"f",(function(){return n})),r.d(e,"d",(function(){return c})),r.d(e,"e",(function(){return l}));var o=r(57);function u(t,e){return Object(o.a)({url:"/productAttribute/list/"+t,method:"get",params:e})}function a(t){return Object(o.a)({url:"/productAttribute/delete",method:"post",data:t})}function i(t){return Object(o.a)({url:"/productAttribute/create",method:"post",data:t})}function n(t,e){return Object(o.a)({url:"/productAttribute/update/"+t,method:"post",data:e})}function c(t){return Object(o.a)({url:"/productAttribute/"+t,method:"get"})}function l(t){return Object(o.a)({url:"/productAttribute/attrInfo/"+t,method:"get"})}},341:function(t,e,r){"use strict";r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"e",(function(){return n})),r.d(e,"d",(function(){return c}));var o=r(57);function u(t){return Object(o.a)({url:"/productAttribute/category/list",method:"get",params:t})}function a(t){return Object(o.a)({url:"/productAttribute/category/create",method:"post",data:t})}function i(t){return Object(o.a)({url:"/productAttribute/category/delete/"+t,method:"get"})}function n(t,e){return Object(o.a)({url:"/productAttribute/category/update/"+t,method:"post",data:e})}function c(){return Object(o.a)({url:"/productAttribute/category/list/withAttr",method:"get"})}},400:function(t,e,r){"use strict";(o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-card",{staticClass:"attr-detail-warpper",attrs:{shadow:"never"}},[r("el-form",{ref:"productAttrFrom",staticClass:"demo-ruleForm",attrs:{model:t.productAttr,rules:t.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"属性名称：",prop:"name"}},[r("el-input",{model:{value:t.productAttr.name,callback:function(e){t.$set(t.productAttr,"name",e)},expression:"productAttr.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品类型："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productAttr.productAttributeCategoryId,callback:function(e){t.$set(t.productAttr,"productAttributeCategoryId",e)},expression:"productAttr.productAttributeCategoryId"}},t._l(t.productAttrCateList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"分类筛选样式:"}},[r("el-radio-group",{model:{value:t.productAttr.filterType,callback:function(e){t.$set(t.productAttr,"filterType",e)},expression:"productAttr.filterType"}},[r("el-radio",{attrs:{label:0}},[t._v("普通")]),t._v(" "),r("el-radio",{attrs:{label:1}},[t._v("颜色")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"能否进行检索:"}},[r("el-radio-group",{model:{value:t.productAttr.searchType,callback:function(e){t.$set(t.productAttr,"searchType",e)},expression:"productAttr.searchType"}},[r("el-radio",{attrs:{label:0}},[t._v("不需要检索")]),t._v(" "),r("el-radio",{attrs:{label:1}},[t._v("关键字检索")]),t._v(" "),r("el-radio",{attrs:{label:2}},[t._v("范围检索")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"商品属性关联:"}},[r("el-radio-group",{model:{value:t.productAttr.relatedStatus,callback:function(e){t.$set(t.productAttr,"relatedStatus",e)},expression:"productAttr.relatedStatus"}},[r("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),r("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"属性是否可选:"}},[r("el-radio-group",{model:{value:t.productAttr.selectType,callback:function(e){t.$set(t.productAttr,"selectType",e)},expression:"productAttr.selectType"}},[r("el-radio",{attrs:{label:0}},[t._v("唯一")]),t._v(" "),r("el-radio",{attrs:{label:1}},[t._v("单选")]),t._v(" "),r("el-radio",{attrs:{label:2}},[t._v("复选")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"属性值的录入方式:"}},[r("el-radio-group",{model:{value:t.productAttr.inputType,callback:function(e){t.$set(t.productAttr,"inputType",e)},expression:"productAttr.inputType"}},[r("el-radio",{attrs:{label:0}},[t._v("手工录入")]),t._v(" "),r("el-radio",{attrs:{label:1}},[t._v("从下面列表中选择")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"属性值可选值列表:"}},[r("el-input",{attrs:{autosize:!0,type:"textarea"},model:{value:t.inputListFormat,callback:function(e){t.inputListFormat=e},expression:"inputListFormat"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"是否支持手动新增:"}},[r("el-radio-group",{model:{value:t.productAttr.handAddStatus,callback:function(e){t.$set(t.productAttr,"handAddStatus",e)},expression:"productAttr.handAddStatus"}},[r("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),r("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"排序属性："}},[r("el-input",{model:{value:t.productAttr.sort,callback:function(e){t.$set(t.productAttr,"sort",e)},expression:"productAttr.sort"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("productAttrFrom")}}},[t._v("提交")]),t._v(" "),t.isEdit?t._e():r("el-button",{on:{click:function(e){return t.resetForm("productAttrFrom")}}},[t._v("重置")])],1)],1)],1)})._withStripped=!0;var o,u=r(341),a=r(332),i={filterType:0,handAddStatus:0,inputList:"",inputType:0,name:"",productAttributeCategoryId:0,relatedStatus:0,searchType:0,selectType:0,sort:0,type:0},n={name:"ProductAttrDetail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{productAttr:Object.assign({},i),rules:{name:[{required:!0,message:"请输入属性名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}]},productAttrCateList:null,inputListFormat:null}},created:function(){var t=this;this.isEdit?Object(a.d)(this.$route.query.id).then((function(e){t.productAttr=e,t.inputListFormat=t.productAttr.inputList.replace(/,/g,"\n")})):this.resetProductAttr(),this.getCateList()},watch:{inputListFormat:function(t,e){t=t.replace(/\n/g,","),this.productAttr.inputList=t}},methods:{getCateList:function(){var t=this;Object(u.c)({pageNum:1,pageSize:100}).then((function(e){t.productAttrCateList=e.list}))},resetProductAttr:function(){this.productAttr=Object.assign({},i),this.productAttr.productAttributeCategoryId=Number(this.$route.query.cid),this.productAttr.type=Number(this.$route.query.type)},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){return t?void e.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.isEdit?Object(a.f)(e.$route.query.id,e.productAttr).then((function(t){e.$message({message:"修改成功",type:"success",duration:1e3}),e.$router.back()})):Object(a.a)(e.productAttr).then((function(t){e.$message({message:"提交成功",type:"success",duration:1e3}),e.resetForm("productAttrFrom")}))})):(e.$message({message:"验证失败",type:"error",duration:1e3}),!1)}))},resetForm:function(t){this.$refs[t].resetFields(),this.resetProductAttr()}}};r=r(15);(o=Object(r.a)(n,o,[],!1,null,"9674ff80",null)).options.__file="src/pages/pms/type/components/ProductAttrDetail.vue",e.a=o.exports},483:function(t,e,r){"use strict";r.r(e),(o=function(){var t=this.$createElement;return(this._self._c||t)("product-attr-detail",{attrs:{"is-edit":!0}})})._withStripped=!0;var o,u={name:"updateProductAttr",components:{ProductAttrDetail:r(400).a}};r=r(15);(o=Object(r.a)(u,o,[],!1,null,"356e2f7f",null)).options.__file="src/pages/pms/type/updateProductAttr.vue",e.default=o.exports}}]);