(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{324:function(t,e,r){"use strict";var n=String.prototype.replace,a=/%20/g,o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(t){return n.call(t,a,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:o}},326:function(t,e,r){"use strict";function n(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r}var a=r(324),o=Object.prototype.hasOwnProperty,i=Array.isArray,u=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();r=function t(e,r,a){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(a&&(a.plainObjects||a.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var u=e;return i(e)&&!i(r)&&(u=n(e,a)),i(e)&&i(r)?(r.forEach((function(r,n){var i;o.call(e,n)?(i=e[n])&&"object"==typeof i&&r&&"object"==typeof r?e[n]=t(i,r,a):e.push(r):e[n]=r})),e):Object.keys(r).reduce((function(e,n){var i=r[n];return o.call(e,n)?e[n]=t(e[n],i,a):e[n]=i,e}),u)};t.exports={arrayToObject:n,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var a=e[n],o=a.obj[a.prop],u=Object.keys(o),l=0;l<u.length;++l){var s=u[l],c=o[s];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:s}),r.push(c))}return function(t){for(;1<t.length;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],a=0;a<r.length;++a)void 0!==r[a]&&n.push(r[a]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",s=0;s<i.length;++s){var c=i.charCodeAt(s);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||o===a.RFC1738&&(40===c||41===c)?l+=i.charAt(s):c<128?l+=u[c]:c<2048?l+=u[192|c>>6]+u[128|63&c]:c<55296||57344<=c?l+=u[224|c>>12]+u[128|c>>6&63]+u[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&i.charCodeAt(s)),l+=u[240|c>>18]+u[128|c>>12&63]+u[128|c>>6&63]+u[128|63&c])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:r}},332:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"f",(function(){return u})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return s}));var n=r(57);function a(t,e){return Object(n.a)({url:"/productAttribute/list/"+t,method:"get",params:e})}function o(t){return Object(n.a)({url:"/productAttribute/delete",method:"post",data:t})}function i(t){return Object(n.a)({url:"/productAttribute/create",method:"post",data:t})}function u(t,e){return Object(n.a)({url:"/productAttribute/update/"+t,method:"post",data:e})}function l(t){return Object(n.a)({url:"/productAttribute/"+t,method:"get"})}function s(t){return Object(n.a)({url:"/productAttribute/attrInfo/"+t,method:"get"})}},334:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"c",(function(){return u})),r.d(e,"f",(function(){return l})),r.d(e,"d",(function(){return s})),r.d(e,"g",(function(){return c})),r.d(e,"a",(function(){return d}));var n=r(57),a=r(58);e=r(335);function o(t){return Object(n.a)({url:a.b,params:t})}function i(t){return Object(n.a)({url:a.c,method:"post",data:t})}function u(t){return Object(n.a)({url:a.a+t,method:"get"})}function l(t){return Object(n.a)({url:a.d,method:"post",data:t})}function s(t){return Object(n.a)({url:"/brand/"+t,method:"get"})}function c(t,e){return Object(n.a)({url:"/brand/update/"+t,method:"post",data:e})}function d(t){return Object(n.a)({url:"/brand/create",method:"post",data:t})}},335:function(t,e,r){"use strict";var n=r(336),a=r(337);r=r(324);t.exports={formats:r,parse:a,stringify:n}},336:function(t,e,r){"use strict";function n(t,e){c.apply(t,s(e)?e:[e])}function a(t,e,r,i,u,l,c,d,f,h,b,m,y,v){var g=t;if("function"==typeof c?g=c(e,g):g instanceof Date?g=h(g):"comma"===r&&s(g)&&(g=o.maybeMap(g,(function(t){return t instanceof Date?h(t):t}))),null===g){if(i)return l&&!y?l(e,p.encoder,v,"key",b):e;g=""}if("string"==typeof(t=g)||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t||o.isBuffer(g))return l?[m(y?e:l(e,p.encoder,v,"key",b))+"="+m(l(g,p.encoder,v,"value",b))]:[m(e)+"="+m(String(g))];var S,w=[];if(void 0===g)return w;S="comma"===r&&s(g)?[{value:0<g.length?g.join(",")||null:void 0}]:s(c)?c:(t=Object.keys(g),d?t.sort(d):t);for(var k=0;k<S.length;++k){var O=S[k],j="object"==typeof O&&void 0!==O.value?O.value:g[O];u&&null===j||n(w,a(j,O=s(g)?"function"==typeof r?r(e,O):e:e+(f?"."+O:"["+O+"]"),r,i,u,l,c,d,f,h,b,m,y,v))}return w}var o=r(326),i=r(324),u=Object.prototype.hasOwnProperty,l={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,d=Date.prototype.toISOString,p=(r=i.default,{addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:r,formatter:i.formatters[r],indices:!1,serializeDate:function(t){return d.call(t)},skipNulls:!1,strictNullHandling:!1});t.exports=function(t,e){var r=t,o=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!u.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],a=p.filter;return"function"!=typeof t.filter&&!s(t.filter)||(a=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:p).addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:p).charsetSentinel,delimiter:(void 0===t.delimiter?p:t).delimiter,encode:("boolean"==typeof t.encode?t:p).encode,encoder:("function"==typeof t.encoder?t:p).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:p).encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:("function"==typeof t.serializeDate?t:p).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:p).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:p).strictNullHandling}}(e);"function"==typeof o.filter?r=(0,o.filter)("",r):s(o.filter)&&(f=o.filter);var c=[];if("object"!=typeof r||null===r)return"";t=e&&e.arrayFormat in l?e.arrayFormat:e&&"indices"in e&&!e.indices?"repeat":"indices";var d=l[t],f=f||Object.keys(r);o.sort&&f.sort(o.sort);for(var h=0;h<f.length;++h){var b=f[h];o.skipNulls&&null===r[b]||n(c,a(r[b],b,d,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset))}return e=c.join(o.delimiter),t=!0===o.addQueryPrefix?"?":"",o.charsetSentinel&&("iso-8859-1"===o.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""}},337:function(t,e,r){"use strict";function n(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t}function a(t,e,r,a){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,u=/(\[[^[\]]*])/g,l=0<r.depth&&/(\[[^[\]]*])/.exec(o),s=[];if(t=l?o.slice(0,l.index):o){if(!r.plainObjects&&i.call(Object.prototype,t)&&!r.allowPrototypes)return;s.push(t)}for(var c=0;0<r.depth&&null!==(l=u.exec(o))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(l[1])}return l&&s.push("["+o.slice(l.index)+"]"),function(t,e,r,a){for(var o=a?e:n(e,r),i=t.length-1;0<=i;--i){var u,l,s,c=t[i];"[]"===c&&r.parseArrays?u=[].concat(o):(u=r.plainObjects?Object.create(null):{},l="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(l,10),r.parseArrays||""!==l?!isNaN(s)&&c!==l&&String(s)===l&&0<=s&&r.parseArrays&&s<=r.arrayLimit?(u=[])[s]=o:u[l]=o:u={0:o}),o=u}return o}(s,e,r,a)}}var o=r(326),i=Object.prototype.hasOwnProperty,u=Array.isArray,l={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};t.exports=function(t,e){var r=function(t){if(!t)return l;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?l:t).charset;return{allowDots:void 0===t.allowDots?l.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:l).allowPrototypes,arrayLimit:("number"==typeof t.arrayLimit?t:l).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:l).charsetSentinel,comma:("boolean"==typeof t.comma?t:l).comma,decoder:("function"==typeof t.decoder?t:l).decoder,delimiter:("string"==typeof t.delimiter||o.isRegExp(t.delimiter)?t:l).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:l.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:l).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:l).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:l).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:l).strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof t?function(t,e){var r,a,s,c,d={},p=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=(t=e.parameterLimit===1/0?void 0:e.parameterLimit,p.split(e.delimiter,t)),h=-1,b=e.charset;if(e.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?b="utf-8":"utf8=%26%2310003%3B"===f[r]&&(b="iso-8859-1"),h=r,r=f.length);for(r=0;r<f.length;++r)r!==h&&((c=-1===(c=-1===(c=(a=f[r]).indexOf("]="))?a.indexOf("="):c+1)?(s=e.decoder(a,l.decoder,b,"key"),e.strictNullHandling?null:""):(s=e.decoder(a.slice(0,c),l.decoder,b,"key"),o.maybeMap(n(a.slice(c+1),e),(function(t){return e.decoder(t,l.decoder,b,"value")}))))&&e.interpretNumericEntities&&"iso-8859-1"===b&&(c=c.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))),-1<a.indexOf("[]=")&&(c=u(c)?[c]:c),i.call(d,s)?d[s]=o.combine(d[s],c):d[s]=c);return d}(t,r):t,c=r.plainObjects?Object.create(null):{},d=Object.keys(s),p=0;p<d.length;++p){var f=a(f=d[p],s[f],r,"string"==typeof t);c=o.merge(c,f,r)}return o.compact(c)}},351:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"g",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"h",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"d",(function(){return d}));var n=r(57);function a(t,e){return Object(n.a)({url:"/productCategory/list/"+t,method:"get",params:e})}function o(t){return Object(n.a)({url:"/productCategory/delete/"+t,method:"post"})}function i(t){return Object(n.a)({url:"/productCategory/create",method:"post",data:t})}function u(t,e){return Object(n.a)({url:"/productCategory/update/"+t,method:"post",data:e})}function l(t){return Object(n.a)({url:"/productCategory/"+t,method:"get"})}function s(t){return Object(n.a)({url:"/productCategory/update/showStatus",method:"post",data:t})}function c(t){return Object(n.a)({url:"/productCategory/update/navStatus",method:"post",data:t})}function d(){return Object(n.a)({url:"/productCategory/list/withChildren",method:"get"})}r(58)},365:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"h",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"c",(function(){return d}));var n=r(57);function a(t){return Object(n.a)({url:"/product/list",method:"get",params:t})}function o(t){return Object(n.a)({url:"/product/update/deleteStatus",method:"post",params:t})}function i(t){return Object(n.a)({url:"/product/update/newStatus",method:"post",params:t})}function u(t){return Object(n.a)({url:"/product/update/recommendStatus",method:"post",params:t})}function l(t){return Object(n.a)({url:"/product/update/publishStatus",method:"post",params:t})}function s(t){return Object(n.a)({url:"/product/create",method:"post",data:t})}function c(t,e){return Object(n.a)({url:"/product/update/"+t,method:"post",data:e})}function d(t){return Object(n.a)({url:"/product/updateInfo/"+t,method:"get"})}},465:function(t,e,r){"use strict";r.r(e),(i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pms-product-warpper"},[r("el-card",{staticClass:"content-warpper",attrs:{shadow:"never"}},[r("div",[r("el-form",{attrs:{inline:!0,model:t.listQuery,size:"small"}},[r("el-form-item",{staticClass:"option-item",attrs:{label:"输入搜索："}},[r("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"商品名称"},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品货号："}},[r("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"商品货号"},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品分类："}},[r("el-cascader",{attrs:{clearable:"",options:t.productCateOptions},model:{value:t.selectProductCateValue,callback:function(e){t.selectProductCateValue=e},expression:"selectProductCateValue"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品品牌："}},[r("el-select",{attrs:{placeholder:"请选择品牌",clearable:""},model:{value:t.listQuery.brandId,callback:function(e){t.$set(t.listQuery,"brandId",e)},expression:"listQuery.brandId"}},t._l(t.brandOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"上架状态："}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.listQuery.publishStatus,callback:function(e){t.$set(t.listQuery,"publishStatus",e)},expression:"listQuery.publishStatus"}},t._l(t.publishStatusOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"审核状态："}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.listQuery.verifyStatus,callback:function(e){t.$set(t.listQuery,"verifyStatus",e)},expression:"listQuery.verifyStatus"}},t._l(t.verifyStatusOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),t._v(" "),r("div",{staticClass:"btn-warpper"},[r("el-button",{staticClass:"btn-search",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSearchList()}}},[t._v("\n                    查询\n                ")]),t._v(" "),r("el-button",{staticClass:"btn-reset",attrs:{type:"warning",size:"small"},on:{click:function(e){return t.handleResetSearch()}}},[t._v("\n                    重置\n                ")])],1)]),t._v(" "),r("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[r("div",{staticClass:"action-warper"},[r("el-select",{staticClass:"sel-warpper",attrs:{size:"small",placeholder:"批量操作"},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},t._l(t.operates,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),r("el-button",{staticClass:"search-button",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleBatchOperate()}}},[t._v("\n                    确定\n                ")])],1),t._v(" "),r("el-button",{staticClass:"btn-add",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleAddProduct()}}},[r("i",{staticClass:"icon-iconfontwendang",staticStyle:{"font-size":"14px","padding-right":"5px"}}),t._v("添加商品\n            ")])],1),t._v(" "),r("div",{staticClass:"table-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"编号",width:"100",align:"center",sortable:"","sort-by":"id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"商品图片",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{height:"80px"},attrs:{src:t.row.pic}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v(t._s(e.row.name))]),t._v(" "),r("p",[t._v("品牌："+t._s(e.row.brandName))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"价格/货号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("价格：￥"+t._s(e.row.price))]),t._v(" "),r("p",[t._v("货号："+t._s(e.row.productSn))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"标签",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("上架：\n                            "),r("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(r){return t.handlePublishStatusChange(e.$index,e.row)}},model:{value:e.row.publishStatus,callback:function(r){t.$set(e.row,"publishStatus",r)},expression:"scope.row.publishStatus"}})],1),t._v(" "),r("p",[t._v("新品：\n                            "),r("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(r){return t.handleNewStatusChange(e.$index,e.row)}},model:{value:e.row.newStatus,callback:function(r){t.$set(e.row,"newStatus",r)},expression:"scope.row.newStatus"}})],1),t._v(" "),r("p",[t._v("推荐：\n                            "),r("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(r){return t.handleRecommendStatusChange(e.$index,e.row)}},model:{value:e.row.recommandStatus,callback:function(r){t.$set(e.row,"recommandStatus",r)},expression:"scope.row.recommandStatus"}})],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"排序",width:"100",align:"center",sortable:"","sort-by":"sort"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sort))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"SKU库存",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(r){return t.handleShowSkuEditDialog(e.$index,e.row)}}},[t._v("修改")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"销量",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sale))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleShowProduct(e.$index,e.row)}}},[t._v("查看\n                            ")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleUpdateProduct(e.$index,e.row)}}},[t._v("编辑\n                            ")])],1)]}}])})],1)],1),t._v(" "),r("div",{staticClass:"pagination-warpper clearfix"},[r("el-pagination",{staticClass:"pagination-container",attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":t.listQuery.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.listQuery,"pageNum",e)},"update:current-page":function(e){return t.$set(t.listQuery,"pageNum",e)}}})],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑货品信息",visible:t.editSkuInfo.dialogVisible,width:"40%"},on:{"update:visible":function(e){return t.$set(t.editSkuInfo,"dialogVisible",e)}}},[r("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.editSkuInfo.stockList,border:""}},[r("el-table-column",{attrs:{label:"SKU编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{model:{value:e.row.skuCode,callback:function(r){t.$set(e.row,"skuCode",r)},expression:"scope.row.skuCode"}})]}}])}),t._v(" "),t._l(t.editSkuInfo.productAttr,(function(e,n){return r("el-table-column",{key:e.id,attrs:{label:e.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.getProductSkuSp(e.row,n))+"\n                    ")]}}],null,!0)})})),t._v(" "),r("el-table-column",{attrs:{label:"销售价格",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{model:{value:e.row.price,callback:function(r){t.$set(e.row,"price",r)},expression:"scope.row.price"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"商品库存",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{model:{value:e.row.stock,callback:function(r){t.$set(e.row,"stock",r)},expression:"scope.row.stock"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"库存预警值",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{model:{value:e.row.lowStock,callback:function(r){t.$set(e.row,"lowStock",r)},expression:"scope.row.lowStock"}})]}}])})],2),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.editSkuInfo.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.handleEditSkuConfirm}},[t._v("确 定")])],1)],1)],1)})._withStripped=!0;var n=r(365),a=r(57);function o(t,e){return Object(a.a)({url:"/sku/"+t,method:"get",params:e})}var i,u=r(332),l=r(334),s=r(351),c={keyword:null,pageNum:1,pageSize:5,publishStatus:null,verifyStatus:null,productSn:null,productCategoryId:null,brandId:null},d={name:"productList",data:function(){return{editSkuInfo:{dialogVisible:!1,productId:null,productSn:"",productAttributeCategoryId:null,stockList:[],productAttr:[],keyword:null},operates:[{label:"商品上架",value:"publishOn"},{label:"商品下架",value:"publishOff"},{label:"设为推荐",value:"recommendOn"},{label:"取消推荐",value:"recommendOff"},{label:"设为新品",value:"newOn"},{label:"取消新品",value:"newOff"},{label:"转移到分类",value:"transferCategory"},{label:"移入回收站",value:"recycle"}],operateType:null,listQuery:Object.assign({},c),list:null,total:null,listLoading:!0,selectProductCateValue:null,multipleSelection:[],productCateOptions:[],brandOptions:[],publishStatusOptions:[{value:1,label:"上架"},{value:0,label:"下架"}],verifyStatusOptions:[{value:1,label:"审核通过"},{value:0,label:"未审核"}]}},created:function(){this.getList(),this.getBrandList(),this.getProductCateList()},watch:{selectProductCateValue:function(t){null!=t&&2==t.length?this.listQuery.productCategoryId=t[1]:this.listQuery.productCategoryId=null}},filters:{verifyStatusFilter:function(t){return 1===t?"审核通过":"未审核"}},methods:{getProductSkuSp:function(t,e){return null!=(t=JSON.parse(t.spData))&&e<t.length?t[e].value:null},getList:function(){var t=this;this.listLoading=!0,Object(n.b)(this.listQuery).then((function(e){t.listLoading=!1,t.list=e.list,t.total=e.total}))},getBrandList:function(){var t=this;Object(l.b)({pageNum:1,pageSize:100}).then((function(e){t.brandOptions=[];for(var r=e.list,n=0;n<r.length;n++)t.brandOptions.push({label:r[n].name,value:r[n].id})}))},getProductCateList:function(){var t=this;Object(s.d)().then((function(e){var r=e;t.productCateOptions=[];for(var n=0;n<r.length;n++){var a=[];if(null!=r[n].children&&0<r[n].children.length)for(var o=0;o<r[n].children.length;o++)a.push({label:r[n].children[o].name,value:r[n].children[o].id});t.productCateOptions.push({label:r[n].name,value:r[n].id,children:a})}}))},handleShowSkuEditDialog:function(t,e){var r=this;this.editSkuInfo.dialogVisible=!0,this.editSkuInfo.productId=e.id,this.editSkuInfo.productSn=e.productSn,this.editSkuInfo.productAttributeCategoryId=e.productAttributeCategoryId,this.editSkuInfo.keyword=null,o(e.id,{keyword:this.editSkuInfo.keyword}).then((function(t){r.editSkuInfo.stockList=t})),null!=e.productAttributeCategoryId&&Object(u.c)(e.productAttributeCategoryId,{type:0}).then((function(t){r.editSkuInfo.productAttr=t.list}))},handleSearchEditSku:function(){var t=this;o(this.editSkuInfo.productId,{keyword:this.editSkuInfo.keyword}).then((function(e){t.editSkuInfo.stockList=e}))},handleEditSkuConfirm:function(){var t=this;null==this.editSkuInfo.stockList||this.editSkuInfo.stockList.length<=0?this.$message({message:"暂无sku信息",type:"warning",duration:1e3}):this.$confirm("是否要进行修改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e,r;e=t.editSkuInfo.productId,r=t.editSkuInfo.stockList,Object(a.a)({url:"/sku/update/"+e,method:"post",data:r}).then((function(e){t.$message({message:"修改成功",type:"success",duration:1e3}),t.editSkuInfo.dialogVisible=!1}))}))},handleSearchList:function(){this.listQuery.pageNum=1,this.getList()},handleAddProduct:function(){this.$router.push({path:"/pms/addProduct"})},handleBatchOperate:function(){var t=this;null!=this.operateType?null==this.multipleSelection||this.multipleSelection.length<1?this.$message({message:"请选择要操作的商品",type:"warning",duration:1e3}):this.$confirm("是否要进行该批量操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e=[],r=0;r<t.multipleSelection.length;r++)e.push(t.multipleSelection[r].id);switch(t.operateType){case t.operates[0].value:t.updatePublishStatus(1,e);break;case t.operates[1].value:t.updatePublishStatus(0,e);break;case t.operates[2].value:t.updateRecommendStatus(1,e);break;case t.operates[3].value:t.updateRecommendStatus(0,e);break;case t.operates[4].value:t.updateNewStatus(1,e);break;case t.operates[5].value:t.updateNewStatus(0,e);break;case t.operates[6].value:break;case t.operates[7].value:t.updateDeleteStatus(1,e)}t.getList()})):this.$message({message:"请选择操作类型",type:"warning",duration:1e3})},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},handleSelectionChange:function(t){this.multipleSelection=t},handlePublishStatusChange:function(t,e){var r=[];r.push(e.id),this.updatePublishStatus(e.publishStatus,r)},handleNewStatusChange:function(t,e){var r=[];r.push(e.id),this.updateNewStatus(e.newStatus,r)},handleRecommendStatusChange:function(t,e){var r=[];r.push(e.id),this.updateRecommendStatus(e.recommandStatus,r)},handleResetSearch:function(){this.selectProductCateValue=[],this.listQuery=Object.assign({},c)},handleDelete:function(t,e){var r=this;this.$confirm("是否要进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];t.push(e.id),r.updateDeleteStatus(1,t)}))},handleUpdateProduct:function(t,e){this.$router.push({path:"/pms/updateProduct",query:{id:e.id}})},handleShowProduct:function(t,e){},handleShowVerifyDetail:function(t,e){},handleShowLog:function(t,e){},updatePublishStatus:function(t,e){var r=this,a=new URLSearchParams;a.append("ids",e),a.append("publishStatus",t),Object(n.g)(a).then((function(t){r.$message({message:"修改成功",type:"success",duration:1e3})}))},updateNewStatus:function(t,e){var r=this,a=new URLSearchParams;a.append("ids",e),a.append("newStatus",t),Object(n.e)(a).then((function(t){r.$message({message:"修改成功",type:"success",duration:1e3})}))},updateRecommendStatus:function(t,e){var r=this,a=new URLSearchParams;a.append("ids",e),a.append("recommendStatus",t),Object(n.h)(a).then((function(t){r.$message({message:"修改成功",type:"success",duration:1e3})}))},updateDeleteStatus:function(t,e){var r=this,a=new URLSearchParams;a.append("ids",e),a.append("deleteStatus",t),Object(n.d)(a).then((function(t){r.$message({message:"删除成功",type:"success",duration:1e3})})),this.getList()}}};r=r(15);(i=Object(r.a)(d,i,[],!1,null,null,null)).options.__file="src/pages/pms/product/index.vue",e.default=i.exports}}]);