(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{398:function(t,e,a){"use strict";function n(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a,n,s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(a in s)new RegExp("(".concat(a,")")).test(e)&&(n=s[a]+"",e=e.replace(RegExp.$1,1===RegExp.$1.length?n:("00"+(n=n)).substr(n.length)));return e}a.d(e,"a",(function(){return n}))},466:function(t,e,a){"use strict";a.r(e),(n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pms-brand-warpper"},[a("div",{staticClass:"option-warpper"},[a("div",{staticClass:"search-warper"},[a("span",[t._v("品牌搜索:")]),t._v(" "),a("el-input",{staticClass:"ipt-search",attrs:{placeholder:"请输入搜索内容",clearable:""},model:{value:t.queryOptions.keyword,callback:function(e){t.$set(t.queryOptions,"keyword",e)},expression:"queryOptions.keyword"}}),t._v(" "),a("el-button",{staticClass:"btn-search",attrs:{type:"primary",size:"small"},on:{click:t.searchUserList}},[t._v("\n                搜索\n            ")])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-warpper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userList}},[a("el-table-column",{attrs:{prop:"id",label:"编号",align:"center",width:"80",sortable:"","sort-by":"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"帐号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"姓名",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",align:"center",label:"邮箱",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"添加时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatDateTime")(e.row.createTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"最后登录",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatDateTime")(e.row.loginTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"启用",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#1989fa","inactive-color":"#cccccc"},on:{change:function(a){return t.setActionStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("编辑\n                    ")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"}},[t._v("删除\n                    ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("设置角色\n                    ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination-warpper clearfix"},[a("div",{staticClass:"pagination-container "},[a("el-pagination",{attrs:{background:"","current-page":t.queryOptions.pageNum,"page-sizes":[5,10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalItemCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.queryOptions,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryOptions,"pageNum",e)}}})],1)])])})._withStripped=!0;var n,s=a(57),r=a(58),i=a(398),o={name:"user",data:function(){return{queryOptions:{keyword:"",pageNum:1,pageSize:10},userList:[],totalItemCount:0}},filters:{formatDateTime:function(t){return null==t||""===t?"N/A":(t=new Date(t),Object(i.a)(t,"yyyy-MM-dd hh:mm:ss"))}},created:function(){this.searchUserList()},methods:{searchUserList:function(){var t,e=this;this.loading=!0,t=this.queryOptions,Object(s.a)({url:r.g,method:"get",params:t}).then((function(t){e.loading=!1,e.userList=t.list,e.totalItemCount=t.total})).catch((function(t){e.loading=!1}))},handleSizeChange:function(t){this.queryOptions.pageNum=1,this.queryOptions.pageSize=t,this.searchUserList()},handleCurrentChange:function(t){this.queryOptions.pageNum=t,this.searchUserList()},setActionStatus:function(t){var e=this;this.$confirm("是否要修改用户启用状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a,n;a=t.id,n={status:t.status},Object(s.a)({url:"/admin/updateStatus/".concat(a),method:"post",params:n}).then((function(t){})).catch((function(a){e.$message.error(a.message),t.status=1===t.status?0:1}))}))}}};a=a(15);(n=Object(a.a)(o,n,[],!1,null,"5b7d6474",null)).options.__file="src/pages/ums/user/index.vue",e.default=n.exports}}]);