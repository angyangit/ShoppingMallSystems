(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{324:function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g,a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:a}},326:function(t,e,r){"use strict";function n(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r}var o=r(324),a=Object.prototype.hasOwnProperty,i=Array.isArray,c=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();r=function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var c=e;return i(e)&&!i(r)&&(c=n(e,o)),i(e)&&i(r)?(r.forEach((function(r,n){var i;a.call(e,n)?(i=e[n])&&"object"==typeof i&&r&&"object"==typeof r?e[n]=t(i,r,o):e.push(r):e[n]=r})),e):Object.keys(r).reduce((function(e,n){var i=r[n];return a.call(e,n)?e[n]=t(e[n],i,o):e[n]=i,e}),c)};t.exports={arrayToObject:n,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],c=Object.keys(a),s=0;s<c.length;++s){var l=c[s],u=a[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:a,prop:l}),r.push(u))}return function(t){for(;1<t.length;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,a){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",l=0;l<i.length;++l){var u=i.charCodeAt(l);45===u||46===u||95===u||126===u||48<=u&&u<=57||65<=u&&u<=90||97<=u&&u<=122||a===o.RFC1738&&(40===u||41===u)?s+=i.charAt(l):u<128?s+=c[u]:u<2048?s+=c[192|u>>6]+c[128|63&u]:u<55296||57344<=u?s+=c[224|u>>12]+c[128|u>>6&63]+c[128|63&u]:(l+=1,u=65536+((1023&u)<<10|1023&i.charCodeAt(l)),s+=c[240|u>>18]+c[128|u>>12&63]+c[128|u>>6&63]+c[128|63&u])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:r}},334:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"e",(function(){return i})),r.d(e,"c",(function(){return c})),r.d(e,"f",(function(){return s})),r.d(e,"d",(function(){return l})),r.d(e,"g",(function(){return u})),r.d(e,"a",(function(){return p}));var n=r(57),o=r(58);e=r(335);function a(t){return Object(n.a)({url:o.b,params:t})}function i(t){return Object(n.a)({url:o.c,method:"post",data:t})}function c(t){return Object(n.a)({url:o.a+t,method:"get"})}function s(t){return Object(n.a)({url:o.d,method:"post",data:t})}function l(t){return Object(n.a)({url:"/brand/"+t,method:"get"})}function u(t,e){return Object(n.a)({url:"/brand/update/"+t,method:"post",data:e})}function p(t){return Object(n.a)({url:"/brand/create",method:"post",data:t})}},335:function(t,e,r){"use strict";var n=r(336),o=r(337);r=r(324);t.exports={formats:r,parse:o,stringify:n}},336:function(t,e,r){"use strict";function n(t,e){u.apply(t,l(e)?e:[e])}function o(t,e,r,i,c,s,u,p,d,h,y,m,g,b){var v=t;if("function"==typeof u?v=u(e,v):v instanceof Date?v=h(v):"comma"===r&&l(v)&&(v=a.maybeMap(v,(function(t){return t instanceof Date?h(t):t}))),null===v){if(i)return s&&!g?s(e,f.encoder,b,"key",y):e;v=""}if("string"==typeof(t=v)||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t||a.isBuffer(v))return s?[m(g?e:s(e,f.encoder,b,"key",y))+"="+m(s(v,f.encoder,b,"value",y))]:[m(e)+"="+m(String(v))];var w,O=[];if(void 0===v)return O;w="comma"===r&&l(v)?[{value:0<v.length?v.join(",")||null:void 0}]:l(u)?u:(t=Object.keys(v),p?t.sort(p):t);for(var S=0;S<w.length;++S){var j=w[S],x="object"==typeof j&&void 0!==j.value?j.value:v[j];c&&null===x||n(O,o(x,j=l(v)?"function"==typeof r?r(e,j):e:e+(d?"."+j:"["+j+"]"),r,i,c,s,u,p,d,h,y,m,g,b))}return O}var a=r(326),i=r(324),c=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,u=Array.prototype.push,p=Date.prototype.toISOString,f=(r=i.default,{addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:r,formatter:i.formatters[r],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1});t.exports=function(t,e){var r=t,a=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!c.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],o=f.filter;return"function"!=typeof t.filter&&!l(t.filter)||(o=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:f).addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:f).charsetSentinel,delimiter:(void 0===t.delimiter?f:t).delimiter,encode:("boolean"==typeof t.encode?t:f).encode,encoder:("function"==typeof t.encoder?t:f).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:f).encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:("function"==typeof t.serializeDate?t:f).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:f).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:f).strictNullHandling}}(e);"function"==typeof a.filter?r=(0,a.filter)("",r):l(a.filter)&&(d=a.filter);var u=[];if("object"!=typeof r||null===r)return"";t=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e&&!e.indices?"repeat":"indices";var p=s[t],d=d||Object.keys(r);a.sort&&d.sort(a.sort);for(var h=0;h<d.length;++h){var y=d[h];a.skipNulls&&null===r[y]||n(u,o(r[y],y,p,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset))}return e=u.join(a.delimiter),t=!0===a.addQueryPrefix?"?":"",a.charsetSentinel&&("iso-8859-1"===a.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""}},337:function(t,e,r){"use strict";function n(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t}function o(t,e,r,o){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,c=/(\[[^[\]]*])/g,s=0<r.depth&&/(\[[^[\]]*])/.exec(a),l=[];if(t=s?a.slice(0,s.index):a){if(!r.plainObjects&&i.call(Object.prototype,t)&&!r.allowPrototypes)return;l.push(t)}for(var u=0;0<r.depth&&null!==(s=c.exec(a))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+a.slice(s.index)+"]"),function(t,e,r,o){for(var a=o?e:n(e,r),i=t.length-1;0<=i;--i){var c,s,l,u=t[i];"[]"===u&&r.parseArrays?c=[].concat(a):(c=r.plainObjects?Object.create(null):{},s="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=parseInt(s,10),r.parseArrays||""!==s?!isNaN(l)&&u!==s&&String(l)===s&&0<=l&&r.parseArrays&&l<=r.arrayLimit?(c=[])[l]=a:c[s]=a:c={0:a}),a=c}return a}(l,e,r,o)}}var a=r(326),i=Object.prototype.hasOwnProperty,c=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:a.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};t.exports=function(t,e){var r=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?s:t).charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:s).allowPrototypes,arrayLimit:("number"==typeof t.arrayLimit?t:s).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:s).charsetSentinel,comma:("boolean"==typeof t.comma?t:s).comma,decoder:("function"==typeof t.decoder?t:s).decoder,delimiter:("string"==typeof t.delimiter||a.isRegExp(t.delimiter)?t:s).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:s).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:s).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:s).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:s).strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,o,l,u,p={},f=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,d=(t=e.parameterLimit===1/0?void 0:e.parameterLimit,f.split(e.delimiter,t)),h=-1,y=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?y="utf-8":"utf8=%26%2310003%3B"===d[r]&&(y="iso-8859-1"),h=r,r=d.length);for(r=0;r<d.length;++r)r!==h&&((u=-1===(u=-1===(u=(o=d[r]).indexOf("]="))?o.indexOf("="):u+1)?(l=e.decoder(o,s.decoder,y,"key"),e.strictNullHandling?null:""):(l=e.decoder(o.slice(0,u),s.decoder,y,"key"),a.maybeMap(n(o.slice(u+1),e),(function(t){return e.decoder(t,s.decoder,y,"value")}))))&&e.interpretNumericEntities&&"iso-8859-1"===y&&(u=u.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))),-1<o.indexOf("[]=")&&(u=c(u)?[u]:u),i.call(p,l)?p[l]=a.combine(p[l],u):p[l]=u);return p}(t,r):t,u=r.plainObjects?Object.create(null):{},p=Object.keys(l),f=0;f<p.length;++f){var d=o(d=p[f],l[d],r,"string"==typeof t);u=a.merge(u,d,r)}return a.compact(u)}},471:function(t,e,r){"use strict";r.r(e),(n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pms-brand-warpper"},[r("div",{staticClass:"option-warpper"},[r("div",{staticClass:"search-warper"},[r("span",[t._v("品牌搜索:")]),t._v(" "),r("el-input",{staticClass:"ipt-search",attrs:{placeholder:"请输入搜索内容",clearable:""},model:{value:t.queryOptions.keyword,callback:function(e){t.$set(t.queryOptions,"keyword",e)},expression:"queryOptions.keyword"}}),t._v(" "),r("el-button",{staticClass:"btn-search",attrs:{type:"primary",size:"small"},on:{click:t.searchBrandList}},[t._v("\n                搜索\n            ")])],1),t._v(" "),r("div",{staticClass:"action-warper"},[r("el-select",{staticClass:"sel-warpper",attrs:{placeholder:"批量操作显示模式"},on:{change:t.change},model:{value:t.optionsSelect,callback:function(e){t.optionsSelect=e},expression:"optionsSelect"}},t._l(t.options,(function(t){return r("el-option",{attrs:{value:t,label:"show"===t?"显示品牌":"隐藏品牌"}})})),1),t._v(" "),r("el-button",{staticClass:"btn-search",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handlerBrandShow()}}},[t._v("\n                确定\n            ")])],1),t._v(" "),r("el-button",{staticClass:"btn-brand-add",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.toAddPage()}}},[r("i",{staticClass:"icon-iconfontwendang",staticStyle:{"font-size":"14px","padding-right":"5px"}}),t._v("添加品牌\n        ")])],1),t._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-warpper"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.brandList},on:{"selection-change":t.selectChange}},[r("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"id",label:"编号",align:"center",width:"80",sortable:"","sort-by":"id"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",align:"center",label:"品牌名称",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"bigPic",label:"logo",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{height:"80px"},attrs:{src:t.row.logo}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"firstLetter",align:"center",label:"首字母",width:"120",sortable:"","sort-by":"firstLetter"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"品牌制造商",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#1989fa","inactive-color":"#cccccc"},on:{change:function(r){return t.setFactoryStatus(e.row)}},model:{value:e.row.factoryStatus,callback:function(r){t.$set(e.row,"factoryStatus",r)},expression:"scope.row.factoryStatus"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否显示",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#1989fa","inactive-color":"#cccccc"},on:{change:function(r){return t.setShowStatus(e.row)}},model:{value:e.row.showStatus,callback:function(r){t.$set(e.row,"showStatus",r)},expression:"scope.row.showStatus"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("商品数量："),r("span",[t._v(t._s(e.row.productCount))])]),t._v(" "),r("p",[t._v("评价数量："),r("span",[t._v(t._s(e.row.productCommentCount))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.toEditPage(e.row)}}},[t._v("编辑\n                    ")]),t._v(" "),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return t.handleDelete(e.row)}}},[t._v("删除\n                    ")])]}}])})],1)],1),t._v(" "),r("div",{staticClass:"pagination-warpper clearfix"},[r("div",{staticClass:"pagination-container "},[r("el-pagination",{attrs:{background:"","current-page":t.queryOptions.pageNum,"page-sizes":[5,10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalItemCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.queryOptions,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryOptions,"pageNum",e)}}})],1)])])})._withStripped=!0;var n,o=r(334),a={name:"brand",data:function(){return{queryOptions:{keyword:"",pageNum:1,pageSize:10},loading:!0,options:["show","hidden"],optionsSelect:"",brandList:[],totalItemCount:0,selectItems:[]}},created:function(){this.searchBrandList()},methods:{change:function(t){},searchBrandList:function(){var t=this;this.loading=!0,Object(o.b)(this.queryOptions).then((function(e){t.brandList=e.list,t.loading=!1,t.totalItemCount=e.total})).catch((function(e){t.loading=!1}))},handleSizeChange:function(t){this.queryOptions.pageNum=1,this.queryOptions.pageSize=t,this.searchBrandList()},handleCurrentChange:function(t){this.queryOptions.pageNum=t,this.searchBrandList()},setFactoryStatus:function(t){var e=this;this.$confirm("是否要修改品牌制造商?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.e)({ids:[t.id],factoryStatus:t.factoryStatus}).then((function(t){e.$message.success("更新成功")})).catch((function(r){e.$message.error(r.message),t.factoryStatus=1===t.factoryStatus?0:1}))}))},setShowStatus:function(t){var e=this;this.$confirm("是否要修改显示状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.f)({ids:[t.id],showStatus:t.showStatus}).then((function(t){e.$message.success("更新成功")})).catch((function(r){e.$message.error(r.message),t.showStatus=1===t.showStatus?0:1}))}))},handleDelete:function(t){var e=this;this.$confirm("是否要删除该品牌","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.c)(t.id).then((function(t){e.$message({message:"删除成功",type:"success",duration:1e3}),e.searchBrandList()}))}))},selectChange:function(t){this.selectItems=t},handlerBrandShow:function(){var t,e=this,r="show"===this.optionsSelect?1:"hidden"===this.optionsSelect?"0":-1;-1!==r?0!==this.selectItems.length?(t=this.selectItems.map((function(t){return t.id})),this.$confirm("是否确定批量修改显示状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.f)({ids:t,showStatus:r}).then((function(t){e.$message.success("更新成功"),e.searchBrandList()})).catch((function(t){e.$message.error(t.message),e.searchBrandList()}))}))):this.$message({message:"至少选择一条记录",type:"warning",duration:1e3}):this.$message({message:"请选择显示模式",type:"warning",duration:1e3})},toEditPage:function(t){this.$router.push({path:"/pms/editBrand",query:{id:t.id}})},toAddPage:function(){this.$router.push({path:"/pms/addBrand"})}}};r=r(15);(n=Object(r.a)(a,n,[],!1,null,null,null)).options.__file="src/pages/pms/brand/index.vue",e.default=n.exports}}]);